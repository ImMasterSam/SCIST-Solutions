#include<iostream>
#include<map>
using namespace std;

map <string, char> morse = { {".-",'A'},     {".---",'J'},    {"...",'S'},     {".----",'1'},
                             {".-.-.-",'.'}, {"---...",':'},  {"-...",'B'},    {"-.-",'K'},
                             {"-",'T'},      {"..---",'2'},   {"--..--",','},  {"-.-.-.",';'},
                             {"-.-.",'C'},   {".-..",'L'},    {"..-",'U'},     {"...--",'3'},
                             {"..--..",'?'}, {"-...-",'='},   {"-..",'D'},     {"--",'M'},
                             {"...-",'V'},   {"....-",'4'},   {".----.",'\''}, {".-.-.",'+'},
                             {".",'E'},      {"-.",'N'},      {".--",'W'},     {".....",'5'},
                             {"-.-.--",'!'}, {"-....-",'-'},  {"..-.",'F'},    {"---",'O'},
                             {"-..-",'X'},   {"-....",'6'},   {"-..-.",'/'},   {"..--.-",'_'},
                             {"--.",'G'},    {".--.",'P'},    {"-.--",'Y'},    {"--...",'7'},
                             {"-.--.",'('},  {".-..-.",'\"'}, {"....",'H'},    {"--.-",'Q'},
                             {"--..",'Z'},   {"---..",'8'},   {"-.--.-",')'},  {".--.-.",'@'},
                             {"..",'I'},     {".-.",'R'},     {"-----",'0'},   {"----.",'9'},
                             {".-...",'&'} };

int main(){
	
	int n;
	cin >> n;
	
	cin.ignore();
	
	bool first = true;
	string s;
	
	for(int i=0;i<n;i++){
		
		if(!first)
			cout << "\n";
		
		cout << "Message #" << i+1 << "\n";
		
		getline(cin, s);
		string temp = "";
		
		for(int j=0;j<(int)s.size();j++){
			
			if(s[j] == ' '){
				
				if(temp == "")
					cout << " ";
				else
					cout << morse[temp];
					
				temp = "";
				
			}
			
			else
				temp += s[j];
			
		}
		
		if(temp != "")
			cout << morse[temp]; 
			
		first = false;
			
		cout << "\n";
		
	}
	
	return 0;
}